10 REM HTTPS://GITHUB.COM/JUSTINBALDOCK/X16-GRANDPRIX
15 PRINT CHR$(147)
20 PRINT "-= GRAND PRIX =-" 
30 PRINT "USE < AND > TO STEER" 
40 PRINT
50 INPUT "LEVEL 1 TO 5";D
55 IF D < 1 OR D > 5 THEN 50
60 L=29+D:R=51-D
65 RD$=""+CHR$($98): REM RD$ IS THE ROAD TEXTURE
70 FOR I=1 TO (R-L)
73 RD$=RD$+CHR$($A6): REM CREATE LENGHT OF ROAD TEXTURE
74 NEXT I
75 COLOR 13,5: REM SET FORE GROUND AND BACKGROUND COLOURS
80 PRINT CHR$($93) CHR$(147): X=320: REM SET DEFAULT X 
85 GOSUB 4500 : REM SET UP SPRITE
90 FOR T= 1 TO 1000 : NEXT T
95 FOR T = 1 TO 15
100 PRINT TAB(L);CHR$($9E)"**";CHR$($98)RD$ CHR$($9E)TAB(R);"**" 
110 NEXT T
120 TI$="000000"
200 PRINT TAB(L);CHR$($9E)"**";CHR$($98)RD$ CHR$($9E)TAB(R);"**"
210 Q=INT(3*RND(0))-1
220 IF L+Q<0 OR R+Q > 78 THEN Q=0
230 L=L+Q:R=R+Q
240 GOSUB 2000 : REM READ KEYBOARD
250 GOTO 200

2000 REM READ KEYBOARD
2010 GET P$
2020 IF P$=CHR$($9D) THEN X=X-3 : REM MOVE LEFT IF < HIT
2030 IF P$=CHR$($1D) THEN X=X+3 : REM MOVE RIGHT IF > HIT
2040 GOSUB 3000 : REM MOVE SPRITE
2050 IF (PEEK(V+31) AND 2) = 2 THEN 4000 : REM TEST FOR CRASH
2060 RETURN

3000 REM MOVE SPRITE SIDEWAYS
3010 IF X>255 THEN OF = 1
3020 VPOKE 1,$FC02,X-256*OF
3030 IF OF = 0 THEN VPOKE 1,$FC03,$00
3040 IF OF = 1 THEN VPOKE 1,$FC03,$01
3050 OF=0
3060 RETURN

3100 REM TEST COLLISION
3110 REM THE CAR IS 9 ROWS DOWN

4000 REM FINISH
4010 M$=TI$ : REM READ CLOCK
4020 FOR N=1 TO 25 : REM FLASH SCREEN
4030 POKE 53281,15*RND(0)
4040 NEXT N
4050 POKE 53281,6 : REM SCREEN TO BLUE
4060 PRINT CHR$(19)
4070 PRINT : PRINT
4080 PRINT "-------------" 
4090 PRINT "CRASHED AFTER" 
4100 PRINT VAL(LEFT$(M$,2));"HOURS        " 
4110 PRINT VAL(MID$(M$,3,2));"MINUTES      " 
4120 PRINT VAL(RIGHT$(M$,2));"SECONDS      " 
4130 PRINT "-------------" 
4140 STOP

4500 REM CREATE CAR SPRITE
4510 REM PLACE SPRITE AT $4000
4520 REM SPRITE 0, 8 BYTES OF ATTRIBUTES IS $1FC00-$1FC07
4530 REM LOAD SPRITE DATA
4540 FOR AD=0 TO 496
4550 READ D
4560 VPOKE 0,$4000+AD,D
4570 NEXT AD
4580 REM CONFIGURE SPRITE 0
4590 VPOKE 1,$FC00,$00: REM SET SPRITE DATA ADDRESS
4600 VPOKE 1,$FC01,$80+$02
4610 VPOKE 1,$FC02,64: REM POSITION X TO 320
4620 VPOKE 1,$FC03,$01
4630 VPOKE 1,$FC04,40: REM POSITION Y
4640 VPOKE 1,$FC05,$00
4650 VPOKE 1,$FC06,%00001100: REM SET MASK, Z,FLIP V-H
4660 VPOKE 1,$FC07,%10010000: REM SET HEIGHT/WIDTH AND PAL OFFSET
4670 REM ENABLE SPRITE
4680 POKE $9F29,PEEK($9F29) OR %01000000
4690 
4690 RETURN

5000 REM RED CAR SPRITE DATA
5010 DATA $00, $00, $00, $FA, $FA, $FA, $FA, $FA, $FA, $FA, $FA, $FA, $FA, $00
5020 DATA $00, $00, $00, $00, $FA, $26, $26, $01, $01, $26, $26, $01, $01, $26
5030 DATA $34, $FA, $00, $00, $00, $FA, $26, $34, $26, $01, $01, $34, $34, $01
5040 DATA $01, $34, $34, $34, $FA, $00, $FA, $26, $34, $26, $34, $01, $01, $34
5050 DATA $34, $01, $01, $34, $34, $34, $34, $FA, $FA, $34, $34, $34, $BB, $BB
5060 DATA $BB, $B8, $B8, $BB, $BB, $BB, $34, $34, $34, $FA, $FA, $34, $34, $BB
5070 DATA $BB, $BB, $B8, $B8, $BB, $BB, $BB, $B8, $BB, $34, $34, $FA, $FA, $34
5080 DATA $34, $BB, $BB, $B8, $B8, $BB, $BB, $BB, $B8, $BB, $BB, $34, $34, $FA
5090 DATA $FA, $34, $34, $26, $26, $01, $01, $26, $26, $01, $01, $34, $34, $34
5100 DATA $34, $FA, $FA, $34, $BB, $26, $26, $01, $01, $34, $34, $01, $01, $34
5110 DATA $34, $BB, $34, $FA, $FA, $34, $BB, $26, $34, $01, $01, $34, $34, $01
5120 DATA $01, $34, $34, $BB, $34, $FA, $FA, $34, $BB, $34, $34, $01, $01, $34
5130 DATA $34, $01, $01, $34, $34, $BB, $34, $FA, $FA, $34, $BB, $34, $34, $01
5140 DATA $01, $34, $34, $01, $01, $34, $34, $BB, $34, $FA, $FA, $34, $BB, $34
5150 DATA $34, $01, $01, $34, $34, $01, $01, $34, $34, $BB, $34, $FA, $FA, $34
5160 DATA $BB, $34, $34, $01, $01, $34, $34, $01, $01, $34, $34, $BB, $34, $FA
5170 DATA $FA, $34, $BB, $34, $34, $01, $01, $34, $34, $01, $01, $34, $FD, $BB
5180 DATA $34, $FA, $FA, $34, $BB, $34, $34, $01, $01, $34, $34, $01, $01, $FD
5190 DATA $FD, $BB, $34, $FA, $FA, $34, $34, $34, $34, $1D, $1D, $FD, $FD, $1D
5200 DATA $1D, $FD, $FD, $34, $34, $FA, $FA, $34, $BD, $BD, $BD, $BD, $BD, $BB
5210 DATA $BB, $BD, $BB, $BB, $BB, $BB, $34, $FA, $FA, $34, $BD, $BD, $BD, $BD
5220 DATA $BB, $BB, $BD, $BB, $BB, $BB, $BB, $BB, $34, $FA, $FA, $26, $BD, $BD
5230 DATA $BD, $BB, $BB, $BD, $BB, $BB, $BB, $BB, $BB, $BB, $34, $FA, $FA, $34
5240 DATA $BD, $BD, $BB, $BB, $BD, $BB, $BB, $BB, $BB, $BB, $BB, $BB, $34, $FA
5250 DATA $FA, $26, $34, $BB, $BB, $BD, $BB, $BB, $BB, $BB, $BB, $BB, $BB, $26
5260 DATA $34, $FA, $FA, $26, $34, $FD, $34, $01, $01, $34, $34, $01, $01, $34
5270 DATA $FD, $26, $34, $FA, $BB, $26, $34, $FD, $34, $01, $01, $34, $34, $01
5280 DATA $01, $34, $FD, $26, $34, $BB, $FA, $26, $34, $FD, $34, $01, $01, $34
5290 DATA $34, $01, $01, $34, $FD, $34, $34, $FA, $BB, $FD, $34, $34, $34, $01
5300 DATA $01, $34, $34, $01, $01, $34, $34, $26, $FD, $BB, $BB, $FD, $FD, $34
5310 DATA $34, $01, $01, $34, $34, $01, $01, $34, $34, $FD, $FD, $BB, $BB, $EA
5320 DATA $01, $FD, $FD, $01, $01, $34, $34, $01, $01, $FD, $FD, $01, $EA, $BB
5330 DATA $BB, $FD, $EA, $EA, $FD, $1D, $1D, $FD, $FD, $1D, $1D, $FD, $EA, $EA
5340 DATA $FD, $BB, $00, $BB, $FD, $FD, $FD, $D8, $DF, $DF, $DF, $DF, $D8, $FD
5350 DATA $FD, $FD, $BB, $00, $00, $00, $BB, $BB, $FD, $FD, $D8, $D8, $D8, $D8
5360 DATA $FD, $FD, $BB, $BB, $00, $00, $00, $00, $00, $00, $BB, $BB, $BB, $BB
5370 DATA $BB, $BB, $BB, $BB, $00, $00, $00, $00
